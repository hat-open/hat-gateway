<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="search" title="Search" href="../search.html"><link rel="next" title="IEC 60870-5-101 devices" href="iec101.html"><link rel="prev" title="Gateway" href="../gateway.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>Modbus devices - hat-gateway documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../_static/hat.css?v=d90f72ce" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">hat-gateway  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">hat-gateway  documentation</span>
  
</a><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../gateway.html">Gateway</a><input aria-label="Toggle navigation of Gateway" checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Modbus devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="iec101.html">IEC 60870-5-101 devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="iec103.html">IEC 60870-5-103 devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="iec104.html">IEC 60870-5-104 devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="iec61850.html">IEC61850 devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="snmp.html">SNMP devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ping.html">Ping device</a></li>
</ul>
</li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="modbus-devices">
<h1>Modbus devices<a class="headerlink" href="#modbus-devices" title="Link to this heading">¶</a></h1>
<p>According to <a class="reference internal" href="../gateway.html#gateway"><span class="std std-ref">gateway specification</span></a>, all modbus device event
types have prefix:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">modbus_master</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/&lt;</span><span class="n">source</span><span class="o">&gt;/...</span>
</pre></div>
</div>
<p>Together with modbus specific events, generic <cite>enable</cite> and <cite>running</cite> events
are also supported.</p>
<p>Modbus specific events don’t contain <cite>source_timestamp</cite>.</p>
<section id="data-value">
<h2>Data value<a class="headerlink" href="#data-value" title="Link to this heading">¶</a></h2>
<p>All modbus native data types are encoded as 1bit or 16bit addressable values.
Because of different data encoding schemas, single user defined data values
can occupy only parts of modbus registers or span across multiple registers.
To accommodate these different encoding rules, modbus gateway devices represent
single data point values as list of bits, encoded as single unsigned integer,
with legth specified by configuration parameters.</p>
<p>Among other parameters, each data specifies:</p>
<blockquote>
<div><ul class="simple">
<li><p>data type (1bit or 16bit register size)</p></li>
<li><p>bit count</p></li>
<li><p>starting register address</p></li>
<li><p>bit offset</p></li>
</ul>
</div></blockquote>
<p>List of bit values is created by iterative reading of register values starting
with <cite>starting register address</cite> and incrementing register address by 1. Bits
in each register are read starting with most significant and advancing to the
least significant bit. Starting register bit defines bit offset - number of
bits which are skipped during start of this iterative procedure. These skipped
bits are not included in resulting value and are not taken into account in
bit count calculation.</p>
<section id="encoding-decoding-example">
<h3>Encoding/decoding example<a class="headerlink" href="#encoding-decoding-example" title="Link to this heading">¶</a></h3>
<p>In case of 16bit registers with content:</p>
<blockquote>
<div><div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Address</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1000</p></td>
<td><p>0x1234</p></td>
</tr>
<tr class="row-odd"><td><p>1001</p></td>
<td><p>0x5678</p></td>
</tr>
<tr class="row-even"><td><p>1002</p></td>
<td><p>0x9abc</p></td>
</tr>
</tbody>
</table>
</div>
</div></blockquote>
<p>When data item is configured with properties:</p>
<blockquote>
<div><ul class="simple">
<li><p>bit count: 32</p></li>
<li><p>starting register address: 1000</p></li>
<li><p>bit offset: 8</p></li>
</ul>
</div></blockquote>
<p>Data value is unlimited unsigned integer 0x3456789a.</p>
</section>
</section>
<section id="modbus-master">
<h2>Modbus master<a class="headerlink" href="#modbus-master" title="Link to this heading">¶</a></h2>
<p>Modbus master device configuration is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://modbus.yaml#/$defs/master</span></code>.</p>
<p>Once enabled, modbus master device will try to open communication connection
defined by configuration parameters. While connection is established,
this device repeatedly reads modbus registers (in accordance to configured
polling <cite>interval</cite> defined for each data in <code class="docutils literal notranslate"><span class="pre">READ</span></code> direction) and reports
any changes as read responses. Also, received write requests are propagated to
remote devices which result in write responses. If connection is lost or could
not be established, device repeatedly tries to establish new connection after
<cite>connect_delay</cite> seconds defined in configuration.</p>
<p>Together with read and write processing, device continuously reports current
status of communication connection and each modbus device identified by
<cite>device_id</cite> data parameter. Status of modbus device identified by <cite>device_id</cite>
is calculated according to availability of data associated with that
<cite>device_id</cite>. Available remote device statuses:</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DISABLED</span></code></p>
<blockquote>
<div><p>Data polling is not enabled</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONNECTING</span></code></p>
<blockquote>
<div><p>Data polling is enabled and none of the read requests have completed.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONNECTED</span></code></p>
<blockquote>
<div><p>Data polling is enabled and at least one data read responses have been
received.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">DISCONNECTED</span></code></p>
<blockquote>
<div><p>Transitive status signaling transition from
<code class="docutils literal notranslate"><span class="pre">CONNECTING</span></code>/<code class="docutils literal notranslate"><span class="pre">CONNECTED</span></code> to <code class="docutils literal notranslate"><span class="pre">CONNECTING</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Polling of data values can be enabled/disabled based on <cite>device_id</cite>. Initially,
polling for all remote devices is disabled and has to be explicitly enabled.</p>
<section id="gateway-events">
<h3>Gateway events<a class="headerlink" href="#gateway-events" title="Link to this heading">¶</a></h3>
<p>Events registered by gateway have event type starting with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">modbus_master</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/</span><span class="n">gateway</span><span class="o">/...</span>
</pre></div>
</div>
<p>Available gateway events are:</p>
<blockquote>
<div><ul>
<li><p>…/status</p>
<blockquote>
<div><p>Connection status of a modbus master device.</p>
<p>Payload is defined by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://modbus.yaml#/$defs/events/master/gateway/status</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/remote_device/&lt;device_id&gt;/status</p>
<blockquote>
<div><p>Status of a remote modbus device, where <cite>&lt;device_id&gt;</cite> is
remote modbus device identifier <cite>device_id</cite> defined in
configuration for each data.</p>
<p>Payload is defined by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://modbus.yaml#/$defs/events/master/gateway/remote_device_status</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/remote_device/&lt;device_id&gt;/read/&lt;data_name&gt;</p>
<blockquote>
<div><p>Read response reporting current data value. Data value and cause
of event reporting are available only in case of successful read.
<cite>&lt;data_name&gt;</cite> is configuration defined <cite>name</cite> for each data.</p>
<p>First successful read of data value will be reported with
<code class="docutils literal notranslate"><span class="pre">INTERROGATE</span></code> <cite>cause</cite> and <cite>result</cite> <code class="docutils literal notranslate"><span class="pre">SUCCESS</span></code>, while all the
following successful reads, where value is different from previous
are reported with <code class="docutils literal notranslate"><span class="pre">CHANGE</span></code> cause.
If read is not successful, <cite>result</cite> equals to any other string
that indicate reason of failure (<cite>value</cite> and <cite>cause</cite> properties
are not included). After value is invalidated, next successful
read will be reported with <cite>INTERROGATED</cite> cause.</p>
<p>Payload is defined by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://modbus.yaml#/$defs/events/master/gateway/read</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/remote_device/&lt;device_id&gt;/write/&lt;data_name&gt;</p>
<blockquote>
<div><p>Write response reporting resulting success value. Together with
<cite>result</cite> that contains success value, this event contains the same
<cite>request_id</cite> as provided in associated write request event.</p>
<p>Payload is defined by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://modbus.yaml#/$defs/events/master/gateway/write</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>in case response did not arrive within configuration
defined <cite>request_timeout</cite>, response with <cite>result</cite> <code class="docutils literal notranslate"><span class="pre">TIMEOUT</span></code>
is registered.</p>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="system-events">
<h3>System events<a class="headerlink" href="#system-events" title="Link to this heading">¶</a></h3>
<p>Events registered by other Hat components, which are consumed by gateway, have
event type starting with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">modbus_master</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/</span><span class="n">system</span><span class="o">/...</span>
</pre></div>
</div>
<p>Available system events are:</p>
<blockquote>
<div><ul>
<li><p>…/remote_device/&lt;device_id&gt;/enable</p>
<blockquote>
<div><p>Enable polling of data associated with remote modbus device with
<cite>&lt;device_id&gt;</cite> identifier.</p>
<p>Payload is defined by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://modbus.yaml#/$defs/events/master/system/enable</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/remote_device/&lt;device_id&gt;/write/&lt;data_name&gt;</p>
<blockquote>
<div><p>Write request containing data value and session identifier used
for pairing of request/response messages.</p>
<p>Payload is defined by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://modbus.yaml#/$defs/events/master/system/write</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="configurations-and-event-payloads">
<h2>Configurations and event payloads<a class="headerlink" href="#configurations-and-event-payloads" title="Link to this heading">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">$schema</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://json-schema.org/draft/2020-12/schema&quot;</span>
<span class="nt">$id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://modbus.yaml&quot;</span>
<span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Modbus devices</span>
<span class="nt">$defs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">master</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Modbus master</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">name</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">connection</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote_devices</span>
<span class="w">        </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">            </span><span class="nt">connection</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">modbus_type</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">transport</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">connect_timeout</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">connect_delay</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">request_timeout</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">request_delay</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">request_retry_immediate_count</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">request_retry_delayed_count</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">request_retry_delay</span>
<span class="w">                </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">modbus_type</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                            </span><span class="no">Modbus message encoding type</span>
<span class="w">                        </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RTU</span>
<span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ASCII</span>
<span class="w">                    </span><span class="nt">transport</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">oneOf</span><span class="p">:</span>
<span class="w">                          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                            </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">host</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">port</span>
<span class="w">                            </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                                </span><span class="nt">type</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">const</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">                                </span><span class="nt">host</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">                                    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                        </span><span class="no">Remote host name</span>
<span class="w">                                </span><span class="nt">port</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                                    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                        </span><span class="no">Remote host TCP port</span>
<span class="w">                                    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">502</span>
<span class="w">                          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                            </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">port</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baudrate</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bytesize</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">parity</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stopbits</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">flow_control</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">silent_interval</span>
<span class="w">                            </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                                </span><span class="nt">type</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">const</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SERIAL</span>
<span class="w">                                </span><span class="nt">port</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">                                    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                        </span><span class="no">Serial port name (e.g. /dev/ttyS0)</span>
<span class="w">                                </span><span class="nt">baudrate</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                                    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                        </span><span class="no">Baud rate (e.g. 9600)</span>
<span class="w">                                </span><span class="nt">bytesize</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                        </span><span class="no">Number of data bits</span>
<span class="w">                                    </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FIVEBITS</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SIXBITS</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SEVENBITS</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EIGHTBITS</span>
<span class="w">                                </span><span class="nt">parity</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                        </span><span class="no">Parity checking</span>
<span class="w">                                    </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NONE</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EVEN</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ODD</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MARK</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SPACE</span>
<span class="w">                                </span><span class="nt">stopbits</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                        </span><span class="no">Number of stop bits</span>
<span class="w">                                    </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ONE</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ONE_POINT_FIVE</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TWO</span>
<span class="w">                                </span><span class="nt">flow_control</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                                    </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">xonxoff</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rtscts</span>
<span class="w">                                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dsrdtr</span>
<span class="w">                                    </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                                        </span><span class="nt">xonxoff</span><span class="p">:</span>
<span class="w">                                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean</span>
<span class="w">                                            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                                </span><span class="no">Enable software flow control</span>
<span class="w">                                        </span><span class="nt">rtscts</span><span class="p">:</span>
<span class="w">                                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean</span>
<span class="w">                                            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                                </span><span class="no">Enable hardware (RTS/CTS) flow control</span>
<span class="w">                                        </span><span class="nt">dsrdtr</span><span class="p">:</span>
<span class="w">                                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean</span>
<span class="w">                                            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                                </span><span class="no">Enable hardware (DSR/DTR) flow control</span>
<span class="w">                                </span><span class="nt">silent_interval</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">                                    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                        </span><span class="no">Serial communication silet interval</span>
<span class="w">                    </span><span class="nt">connect_timeout</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                            </span><span class="no">Maximum number of seconds available to single connection</span>
<span class="w">                            </span><span class="no">attempt</span>
<span class="w">                    </span><span class="nt">connect_delay</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                            </span><span class="no">Delay (in seconds) between two consecutive connection</span>
<span class="w">                            </span><span class="no">establishment attempts</span>
<span class="w">                    </span><span class="nt">request_timeout</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                            </span><span class="no">Maximum duration (in seconds) of read or write</span>
<span class="w">                            </span><span class="no">request/response exchange.</span>
<span class="w">                    </span><span class="nt">request_delay</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                            </span><span class="no">Delay (in seconds) between two consecutive requests</span>
<span class="w">                            </span><span class="no">(minimal duration between response and next request)</span>
<span class="w">                    </span><span class="nt">request_retry_immediate_count</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                            </span><span class="no">Number of immediate request retries before remote</span>
<span class="w">                            </span><span class="no">data is considered unavailable. Total number</span>
<span class="w">                            </span><span class="no">of retries is request_retry_immediate_count *</span>
<span class="w">                            </span><span class="no">request_retry_delayed_count.</span>
<span class="w">                    </span><span class="nt">request_retry_delayed_count</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                            </span><span class="no">Number of delayed request retries before remote data</span>
<span class="w">                            </span><span class="no">is considered unavailable. Total number</span>
<span class="w">                            </span><span class="no">of retries is request_retry_immediate_count *</span>
<span class="w">                            </span><span class="no">request_retry_delayed_count.</span>
<span class="w">                    </span><span class="nt">request_retry_delay</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                            </span><span class="no">Delay (in seconds) between two consecutive delayed</span>
<span class="w">                            </span><span class="no">request retries</span>
<span class="w">            </span><span class="nt">remote_devices</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">array</span>
<span class="w">                </span><span class="nt">items</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                    </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">device_id</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">timeout_poll_delay</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data</span>
<span class="w">                    </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">device_id</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                </span><span class="no">Modbus device identifier</span>
<span class="w">                        </span><span class="nt">timeout_poll_delay</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">                            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                </span><span class="no">Delay (in seconds) after read timeout and</span>
<span class="w">                                </span><span class="no">before device polling is resumed</span>
<span class="w">                        </span><span class="nt">data</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">array</span>
<span class="w">                            </span><span class="nt">items</span><span class="p">:</span>
<span class="w">                                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                                </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">name</span>
<span class="w">                                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">interval</span>
<span class="w">                                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_type</span>
<span class="w">                                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">start_address</span>
<span class="w">                                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bit_offset</span>
<span class="w">                                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bit_count</span>
<span class="w">                                </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                                    </span><span class="nt">name</span><span class="p">:</span>
<span class="w">                                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">                                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                            </span><span class="no">Data point name</span>
<span class="w">                                    </span><span class="nt">interval</span><span class="p">:</span>
<span class="w">                                        </span><span class="nt">type</span><span class="p">:</span>
<span class="w">                                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">                                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span>
<span class="w">                                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                            </span><span class="no">Polling interval in seconds or</span>
<span class="w">                                            </span><span class="no">null if polling is disabled</span>
<span class="w">                                    </span><span class="nt">data_type</span><span class="p">:</span>
<span class="w">                                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                            </span><span class="no">Modbus register type</span>
<span class="w">                                        </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">COIL</span>
<span class="w">                                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DISCRETE_INPUT</span>
<span class="w">                                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HOLDING_REGISTER</span>
<span class="w">                                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INPUT_REGISTER</span>
<span class="w">                                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">QUEUE</span>
<span class="w">                                    </span><span class="nt">start_address</span><span class="p">:</span>
<span class="w">                                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                            </span><span class="no">Starting address of modbus register</span>
<span class="w">                                    </span><span class="nt">bit_offset</span><span class="p">:</span>
<span class="w">                                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                            </span><span class="no">Bit offset (number of bits skipped)</span>
<span class="w">                                    </span><span class="nt">bit_count</span><span class="p">:</span>
<span class="w">                                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                                        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                                            </span><span class="no">Number of bits used for</span>
<span class="w">                                            </span><span class="no">encoding/decoding value (not</span>
<span class="w">                                            </span><span class="no">including offset bits)</span>
<span class="w">    </span><span class="nt">events</span><span class="p">:</span>
<span class="w">        </span><span class="nt">master</span><span class="p">:</span>
<span class="w">            </span><span class="nt">gateway</span><span class="p">:</span>
<span class="w">                </span><span class="nt">status</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DISCONNECTED</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CONNECTING</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CONNECTED</span>
<span class="w">                </span><span class="nt">remote_device_status</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DISABLED</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CONNECTING</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CONNECTED</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DISCONNECTED</span>
<span class="w">                </span><span class="nt">read</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                    </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span>
<span class="w">                    </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">result</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SUCCESS</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INVALID_FUNCTION_CODE</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INVALID_DATA_ADDRESS</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INVALID_DATA_VALUE</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FUNCTION_ERROR</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GATEWAY_PATH_UNAVAILABLE</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GATEWAY_TARGET_DEVICE_FAILED_TO_RESPOND</span>
<span class="w">                        </span><span class="nt">value</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                        </span><span class="nt">cause</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INTERROGATE</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CHANGE</span>
<span class="w">                </span><span class="nt">write</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                    </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">request_id</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span>
<span class="w">                    </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">request_id</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">                        </span><span class="nt">result</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SUCCESS</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INVALID_FUNCTION_CODE</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INVALID_DATA_ADDRESS</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INVALID_DATA_VALUE</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FUNCTION_ERROR</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GATEWAY_PATH_UNAVAILABLE</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GATEWAY_TARGET_DEVICE_FAILED_TO_RESPOND</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TIMEOUT</span>
<span class="w">            </span><span class="nt">system</span><span class="p">:</span>
<span class="w">                </span><span class="nt">enable</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean</span>
<span class="w">                </span><span class="nt">write</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                    </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">request_id</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value</span>
<span class="w">                    </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">request_id</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">                        </span><span class="nt">value</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="iec101.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">IEC 60870-5-101 devices</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../gateway.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Gateway</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020-2025, Hat Open AUTHORS
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Modbus devices</a><ul>
<li><a class="reference internal" href="#data-value">Data value</a><ul>
<li><a class="reference internal" href="#encoding-decoding-example">Encoding/decoding example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#modbus-master">Modbus master</a><ul>
<li><a class="reference internal" href="#gateway-events">Gateway events</a></li>
<li><a class="reference internal" href="#system-events">System events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configurations-and-event-payloads">Configurations and event payloads</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>