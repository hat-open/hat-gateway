<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="search" title="Search" href="../search.html"><link rel="next" title="SNMP devices" href="snmp.html"><link rel="prev" title="IEC 60870-5-104 devices" href="iec104.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>IEC61850 devices - hat-gateway documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../_static/hat.css?v=d90f72ce" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">hat-gateway  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">hat-gateway  documentation</span>
  
</a><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../gateway.html">Gateway</a><input aria-label="Toggle navigation of Gateway" checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="modbus.html">Modbus devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="iec101.html">IEC 60870-5-101 devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="iec103.html">IEC 60870-5-103 devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="iec104.html">IEC 60870-5-104 devices</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">IEC61850 devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="snmp.html">SNMP devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ping.html">Ping device</a></li>
</ul>
</li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="iec61850-devices">
<h1>IEC61850 devices<a class="headerlink" href="#iec61850-devices" title="Link to this heading">¶</a></h1>
<section id="iec61850-client">
<h2>IEC61850 client<a class="headerlink" href="#iec61850-client" title="Link to this heading">¶</a></h2>
<p>IEC61850 client device configuration is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec61850.yaml#/$defs/client</span></code>.</p>
<p>According to <a class="reference internal" href="../gateway.html#gateway"><span class="std std-ref">gateway specification</span></a>, all IEC104 master device
event types have prefix:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">iec61850_client</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/&lt;</span><span class="n">source</span><span class="o">&gt;/...</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;source&gt;</span></code> can be <code class="docutils literal notranslate"><span class="pre">gateway</span></code> or <code class="docutils literal notranslate"><span class="pre">system</span></code>.
Together with IEC61850 specific events, generic <cite>enable</cite> and <cite>running</cite> events
are also supported. Specific events are defined in the following sections.</p>
<p>When IEC61850 client device is enabled, it starts the connection loop, in order
to connect to the remote IEC61850 server, at the <cite>host</cite> and <cite>port</cite> given in
configuration. After connection is successfully established, device performs
the following initialization procedures, in the respective order:</p>
<ol class="arabic simple">
<li><p>creation of dynamic datasets</p></li>
<li><p>initialization of report control blocks (<cite>rcb</cite>’s’)</p></li>
</ol>
<p>If any of the procedures fails, connection is closed and than retried after
<cite>reconnect_delay</cite>.</p>
<section id="creation-of-dynamic-datasets">
<h3>Creation of dynamic datasets<a class="headerlink" href="#creation-of-dynamic-datasets" title="Link to this heading">¶</a></h3>
<p>After successful connection, <cite>datasets</cite>, defined in configuration with <cite>dynamic</cite>
<code class="docutils literal notranslate"><span class="pre">True</span></code>, are created. There are two types of dynamic datasets, distinguished
in configuration by their reference:</p>
<ul>
<li><p>non-persisted - with reference defined by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec61850.yaml#/$defs/refs/dataset_nonpersisted</span></code></p>
<p>Non-persisted datasets are created simply by calling connection’s method
<cite>create_dataset</cite>.</p>
</li>
<li><p>persisted - with reference defined by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec61850.yaml#/$defs/refs/dataset_persisted</span></code></p>
<p>In case of persisted datasets, creation follows the following procedure:</p>
<ol class="arabic">
<li><p>In order to get persisted datasets that already exist, connection’s method
<cite>get_persisted_dataset_refs</cite> is called.</p></li>
<li><p>If a dynamic dataset to be created, does not exist already, it is created
by <cite>create_dataset</cite>.</p>
<p>For each dataset found as existing in the previous step, method
<cite>get_dataset_data_refs</cite> is called in order to get all data references that
are assigned to it. If all the data references are equal to the <cite>values</cite>
references from the configuration, dataset is considered created.</p>
<p>Otherwise, if existing dataset does not have all the data references equal
to the ones from the configuration, dataset is first deleted, by calling
method <cite>delete_dataset</cite>, and then created by calling <cite>create_dataset</cite>.</p>
</li>
</ol>
<p>In case any of the steps fails, connection is closed.</p>
</li>
</ul>
</section>
<section id="initialization-of-rcb-s">
<h3>Initialization of <cite>rcb</cite>’s<a class="headerlink" href="#initialization-of-rcb-s" title="Link to this heading">¶</a></h3>
<p>After creation of dynamic datasets, device performs initialization of each
configured <cite>rcb</cite> using connection’s methods <cite>get_rcb_attrs</cite> and <cite>set_rcb_attrs</cite>
in order to <cite>get</cite> and <cite>set</cite> specific <cite>rcb</cite> attributes, respectively. Each <cite>get</cite>
or <cite>set</cite> is considered failed, if called method raises exception, or if it
returns <cite>ServiceError</cite> for the specific attribute. Thereby, some initialization
steps are considered critical, meaning failure results with closing the
connection. When a non-critical step fails, only warning message is logged and
initialization continues. Initialization steps are the following, in the
respective order:</p>
<ol class="arabic simple">
<li><p><cite>get_rcb_attrs</cite> method is called in order to get values of the following</p></li>
</ol>
<blockquote>
<div><p><cite>rcb</cite> attributes and verify their values against the configured ones:</p>
<blockquote>
<div><blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">REPORT_ID</span></code> - each <cite>rcb</cite> has <cite>report_id</cite> defined in configuration. In
case retrieved value does not correspond to the configured value,
connection is closed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DATASET</span></code> - this attribute is included only for <cite>rcb</cite>’s that have
assigned <cite>dataset</cite> which is not dynamic. In case retrieved value does not
correspond to the configured value, connection is closed. This attribute
is not included for dynamic datasets, since they are only created in the
previous step, and will be set to a <cite>rcb</cite> later in the initialization
procedure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONF_REVISION</span></code> - this attribute is optionally retrieved, in case
<cite>conf_revision</cite> property is defined in configuration. In case retrieved
value does not correspond to the configured value, connection is closed.</p></li>
</ul>
</div></blockquote>
<p>This step is critical, that is, if <cite>get_rcb_attrs</cite> fails for any reason, or
<cite>ServiceError</cite> is received for any of the attributes, connection is closed.</p>
</div></blockquote>
</div></blockquote>
<ol class="arabic">
<li><p>Attribute <code class="docutils literal notranslate"><span class="pre">REPORT_ENABLE</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>. This is non-critical step,
that is in case of failure, a warning message is logged and initialization
continues.</p></li>
<li><p>Attribute <code class="docutils literal notranslate"><span class="pre">DATASET</span></code> is set to reference of the configured <cite>dataset</cite>, but
only if <cite>dataset</cite> is dynamic, otherwise this step is omitted.</p></li>
<li><p>This step differs in regard whether <cite>rcb</cite> type is <code class="docutils literal notranslate"><span class="pre">BUFFERED</span></code> or
<code class="docutils literal notranslate"><span class="pre">UNBUFFERED</span></code>.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">UNBUFFERED</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RESERVE</span></code> attribute is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. In case of failure, a
warning message is logged and initialization continues.</p></li>
</ul>
</div></blockquote>
<p>For <code class="docutils literal notranslate"><span class="pre">BUFFERED</span></code>:</p>
<blockquote>
<div><ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">RESERVATION_TIME</span></code> is set to configuration defined value of
<cite>reservation_time</cite>. If <cite>rcb</cite> configuration does not contain
<cite>reservation_time</cite>, this step is omitted. In case of failure, a
warning message is logged and initialization continues.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PURGE_BUFFER</span></code> attribute is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, but only if configuration
parameter <cite>purge_buffer</cite> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, or if cached <cite>entry_id</cite> is
<code class="docutils literal notranslate"><span class="pre">null</span></code>, or does not exist. In case of failure, a warning message is
logged and initialization continues.</p>
<p>or</p>
<p><code class="docutils literal notranslate"><span class="pre">ENTRY_ID</span></code> attribute is set to cached value (queried on device
creation and updated on each received report), but only if
<cite>purge_buffer</cite> is <code class="docutils literal notranslate"><span class="pre">False</span></code> and <cite>entry_id</cite> value is cached and not
<code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p>If setting <code class="docutils literal notranslate"><span class="pre">ENTRY_ID</span></code> to cached value fails, for any reason, setting
is tried again but to value <code class="docutils literal notranslate"><span class="pre">\x00</span></code>, in order to re-synchronize.</p>
<p>If this setting trial fails again, initialization continues with an
appropriate warning log message.</p>
</li>
</ol>
</div></blockquote>
</li>
<li><p>In a single call of <cite>set_rcb_attrs</cite>, the following attributes are set to the
corresponding value defined in configuration:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRIGGER_OPTIONS</span></code> corresponds to parameter <cite>trigger_options</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OPTIONAL_FIELDS</span></code> corresponds to parameter <cite>optional_fields</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BUFFER_TIME</span></code> corresponds to parameter <cite>buffer_time</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INTEGRITY_PERIOD</span></code> corresponds to parameter <cite>integrity_period</cite></p></li>
</ul>
<p>Since all properties are optional, they are included only if defined in
configuration. If neither one property is defined, this step is omitted. In
case of failure, a warning message is logged and initialization continues.</p>
</li>
<li><p>attribute <code class="docutils literal notranslate"><span class="pre">REPORT_ENABLE</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>. This step is critical,
that is, in case of failure, connection is closed.</p></li>
<li><p>attribute <code class="docutils literal notranslate"><span class="pre">GI</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> in order to request general
interrogation. This step is critical, that is, in case of failure,
connection is closed.</p></li>
</ol>
</section>
<section id="gateway-events">
<h3>Gateway events<a class="headerlink" href="#gateway-events" title="Link to this heading">¶</a></h3>
<p>Events registered by gateway have event type starting with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">iec61850_client</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/</span><span class="n">gateway</span><span class="o">/...</span>
</pre></div>
</div>
<p>Available gateway events are:</p>
<blockquote>
<div><ul>
<li><p>…/status</p>
<blockquote>
<div><p>Represents change in connection status. Upon enabling device, new
<code class="docutils literal notranslate"><span class="pre">CONNECTING</span></code> status is registered. Once device is disabled,
<code class="docutils literal notranslate"><span class="pre">DISCONNECTED</span></code> status should be assumed regardless of last registered
<cite>status</cite> event. Rregistration of <code class="docutils literal notranslate"><span class="pre">DISCONNECTED</span></code> status event during
device disabling is mandatory but should not be relied upon, due to
connection with event server cannot be guaranteed. Once, IEC61850
connection is established <code class="docutils literal notranslate"><span class="pre">CONNECTED</span></code> status is registered, before
the initialization procedures described beforehand.</p>
<p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec61850.yaml#/$defs/events/client/gateway/status</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/data/&lt;data_name&gt;</p>
<blockquote>
<div><p>Represents data received within IEC61850 report. In case report is
received with attribute <cite>more_segments_follow</cite> <code class="docutils literal notranslate"><span class="pre">True</span></code>, report is
cached and no event is generated. Only after report is received with
<cite>more_segments_follow</cite> <code class="docutils literal notranslate"><span class="pre">False</span></code>, <cite>data</cite> of this, and all cached
reports with the same <cite>sequence_number</cite>, are considered in order to
create one or more corresponding events. If configuration of a data
defines <cite>report_ids</cite>, corresponding data event is registered only when
one of the specified <cite>report_ids</cite> is received. If <cite>report_ids</cite> is not
given in configuration, data event is registered for all the received
reports, data is assigned to.</p>
<p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec61850.yaml#/$defs/events/client/gateway/data</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/command/&lt;command_name&gt;</p>
<blockquote>
<div><p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec61850.yaml#/$defs/events/client/gateway/command</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/change/&lt;value_name&gt;</p>
<blockquote>
<div><p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec61850.yaml#/$defs/events/client/gateway/change</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/entry_id/&lt;report_id&gt;</p>
<blockquote>
<div><p>This event is queried within device’s create function, in order to cache
<cite>entry_id</cite> for each <cite>rcb</cite> configured as <code class="docutils literal notranslate"><span class="pre">BUFFERED</span></code> and identified by
<cite>&lt;report_id&gt;</cite>. <cite>entry_id</cite> value is used in the initialization procedure
for eachb <code class="docutils literal notranslate"><span class="pre">BUFFERED</span></code> <cite>rcb</cite>, as described beforehand. This event is in
order to persist <cite>entry_id</cite> information after device is disabled. It is
envisaged to be consumed exclusively by the device.</p>
<p>On each received IEC61850 report, that corresponds to <code class="docutils literal notranslate"><span class="pre">BUFFERED</span></code>
<cite>rcb</cite>, device registers this event, where payload is equal to
hexadecimal encoding of bytes, or to <code class="docutils literal notranslate"><span class="pre">null</span></code>, if report doesn’t
contain it (its <cite>entry_id</cite> is <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p>
<p>For reports configured as <code class="docutils literal notranslate"><span class="pre">UNBUFFERED</span></code>, this is event is not
registered, nor queried.</p>
<p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec61850.yaml#/$defs/events/client/gateway/entry_id</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="system-events">
<h3>System events<a class="headerlink" href="#system-events" title="Link to this heading">¶</a></h3>
<p>Events registered by other Hat components, which are consumed by gateway, have
event type starting with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">iec61850_client</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/</span><span class="n">system</span><span class="o">/...</span>
</pre></div>
</div>
<p>Available system events are:</p>
<blockquote>
<div><ul>
<li><p>…/command/&lt;command_name&gt;</p>
<blockquote>
<div><p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec61850.yaml#/$defs/events/client/system/command</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/change/&lt;value_name&gt;</p>
<blockquote>
<div><p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec61850.yaml#/$defs/events/client/system/change</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="snmp.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">SNMP devices</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="iec104.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">IEC 60870-5-104 devices</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020-2025, Hat Open AUTHORS
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">IEC61850 devices</a><ul>
<li><a class="reference internal" href="#iec61850-client">IEC61850 client</a><ul>
<li><a class="reference internal" href="#creation-of-dynamic-datasets">Creation of dynamic datasets</a></li>
<li><a class="reference internal" href="#initialization-of-rcb-s">Initialization of <cite>rcb</cite>’s</a></li>
<li><a class="reference internal" href="#gateway-events">Gateway events</a></li>
<li><a class="reference internal" href="#system-events">System events</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>