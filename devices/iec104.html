<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="search" title="Search" href="../search.html"><link rel="next" title="IEC61850 devices" href="iec61850.html"><link rel="prev" title="IEC 60870-5-103 devices" href="iec103.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>IEC 60870-5-104 devices - hat-gateway documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../_static/hat.css?v=d90f72ce" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">hat-gateway  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">hat-gateway  documentation</span>
  
</a><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../gateway.html">Gateway</a><input aria-label="Toggle navigation of Gateway" checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="modbus.html">Modbus devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="iec101.html">IEC 60870-5-101 devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="iec103.html">IEC 60870-5-103 devices</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">IEC 60870-5-104 devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="iec61850.html">IEC61850 devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="snmp.html">SNMP devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ping.html">Ping device</a></li>
</ul>
</li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="iec-60870-5-104-devices">
<h1>IEC 60870-5-104 devices<a class="headerlink" href="#iec-60870-5-104-devices" title="Link to this heading">¶</a></h1>
<p>Together with IEC104 specific events, generic <cite>enable</cite> and <cite>running</cite> events
are also supported.</p>
<p>Supported data types (&lt;data_type&gt;):</p>
<blockquote>
<div><ul class="simple">
<li><p>‘single’</p></li>
<li><p>‘double’</p></li>
<li><p>‘step_position’</p></li>
<li><p>‘bitstring’</p></li>
<li><p>‘normalized’</p></li>
<li><p>‘scaled’</p></li>
<li><p>‘floating’</p></li>
<li><p>‘binary_counter’</p></li>
<li><p>‘protection’</p></li>
<li><p>‘protection_start’</p></li>
<li><p>‘protection_command’</p></li>
<li><p>‘status’</p></li>
</ul>
</div></blockquote>
<p>Supported command types (&lt;command_type&gt;):</p>
<blockquote>
<div><ul class="simple">
<li><p>‘single’</p></li>
<li><p>‘double’</p></li>
<li><p>‘regulating’</p></li>
<li><p>‘normalized’</p></li>
<li><p>‘scaled’</p></li>
<li><p>‘floating’</p></li>
<li><p>‘bitstring’</p></li>
</ul>
</div></blockquote>
<section id="master-device">
<h2>Master device<a class="headerlink" href="#master-device" title="Link to this heading">¶</a></h2>
<p>IEC104 master device configuration is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/master</span></code>.</p>
<p>According to <a class="reference internal" href="../gateway.html#gateway"><span class="std std-ref">gateway specification</span></a>, all IEC104 master device
event types have prefix:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">iec104_master</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/&lt;</span><span class="n">source</span><span class="o">&gt;/...</span>
</pre></div>
</div>
<p>When IEC104 master device is enabled, connection establishment loop is started.
Device will try to connect to one of configured remote slave devices in order
defined by configuration. Once connection to remote slave is established,
connection loop is temporary paused and new connection’s status is monitored.
If connection is broken, connection loop is resumed. Changes in connection
status are notified as gateway ‘status’ events.</p>
<p>Implementation of IEC104 master device is based on transparent mapping of
IEC104 request/response messages to system/gateway events. Supported
IEC104 messages:</p>
<blockquote>
<div><ul>
<li><p>Data response</p>
<blockquote>
<div><p>When master receives IEC104 data response message, it will generate
gateway ‘data’ event.</p>
</div></blockquote>
</li>
<li><p>Command request</p>
<blockquote>
<div><p>When master receives system ‘command’ event, it will send IEC104
command request message.</p>
</div></blockquote>
</li>
<li><p>Command response</p>
<blockquote>
<div><p>When master receives IEC104 command response message, it will generate
gateway ‘command’ event.</p>
</div></blockquote>
</li>
<li><p>Interrogate request</p>
<blockquote>
<div><p>When master receives system ‘interrogate’ event, it will send IEC104
interrogate request message.</p>
</div></blockquote>
</li>
<li><p>Interrogate response</p>
<blockquote>
<div><p>When master receives IEC104 interrogate response message, it will
generate gateway ‘interrogate’ event.</p>
</div></blockquote>
</li>
<li><p>Counter interrogate request</p>
<blockquote>
<div><p>When master receives system ‘counter_interrogate’ event, it will send
IEC104 counter interrogate request message.</p>
</div></blockquote>
</li>
<li><p>Counter interrogate response</p>
<blockquote>
<div><p>When master receives IEC104 counter interrogate response message, it
will generate gateway ‘counter_interrogate’ event.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>In addition to bidirectional mapping of messages/events, IEC104 master device
provides possibility of time synchronization. If configured, once connection
to remote slave is established, master will periodically send IEC104
clock sync messages with current system time.</p>
<section id="gateway-events">
<h3>Gateway events<a class="headerlink" href="#gateway-events" title="Link to this heading">¶</a></h3>
<p>Events registered by gateway have event type starting with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">iec104_master</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/</span><span class="n">gateway</span><span class="o">/...</span>
</pre></div>
</div>
<p>Available gateway events are:</p>
<blockquote>
<div><ul>
<li><p>…/status</p>
<blockquote>
<div><p>Represents change in connection status. Upon enabling device,
new <code class="docutils literal notranslate"><span class="pre">CONNECTING</span></code> status should be registered. Once device is
disabled, <code class="docutils literal notranslate"><span class="pre">DISCONNECTED</span></code> status should be assumed regardless
of last registered <cite>status</cite> event (registration of
<code class="docutils literal notranslate"><span class="pre">DISCONNECTED</span></code> status event during device disabling is mandatory
but should not be relied upon).</p>
<p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/master/gateway/status</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/data/&lt;data_type&gt;/&lt;asdu_address&gt;/&lt;io_address&gt;</p>
<blockquote>
<div><p>Represents received IEC104 data message.</p>
<p>Source timestamp is dependent on existence of IEC104 time.
If IEC104 time is not available, source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/master/gateway/data</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/command/&lt;command_type&gt;/&lt;asdu_address&gt;/&lt;io_address&gt;</p>
<blockquote>
<div><p>Represents received IEC104 command message.</p>
<p>Source timestamp is dependent on existence of IEC104 time.
If IEC104 time is not available, source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/master/gateway/command</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/interrogation/&lt;asdu_address&gt;</p>
<blockquote>
<div><p>Represents received IEC104 interrogation message.</p>
<p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/master/gateway/interrogation</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/counter_interrogation/&lt;asdu_address&gt;</p>
<blockquote>
<div><p>Represents received IEC104 counter interrogation message.</p>
<p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/master/gateway/counter_interrogation</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="system-events">
<h3>System events<a class="headerlink" href="#system-events" title="Link to this heading">¶</a></h3>
<p>Events registered by other Hat components, which are consumed by gateway, have
event type starting with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">iec104_master</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/</span><span class="n">system</span><span class="o">/...</span>
</pre></div>
</div>
<p>Available system events are:</p>
<blockquote>
<div><ul>
<li><p>…/command/&lt;command_type&gt;/&lt;asdu_address&gt;/&lt;io_address&gt;</p>
<blockquote>
<div><p>Represents request for command execution.</p>
<p>Source timestamp is dependent on existence of IEC104 time.
If IEC104 time is not available, source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/master/system/command</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/interrogation/&lt;asdu_address&gt;</p>
<blockquote>
<div><p>Represents request for interrogation (interrogation activation).</p>
<p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/master/system/interrogation</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/counter_interrogation/&lt;asdu_address&gt;</p>
<blockquote>
<div><p>Represents request for counter interrogation (interrogation
activation).</p>
<p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/master/system/counter_interrogation</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="slave-device">
<h2>Slave device<a class="headerlink" href="#slave-device" title="Link to this heading">¶</a></h2>
<p>IEC104 slave device configuration is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/slave</span></code>.</p>
<p>According to <a class="reference internal" href="../gateway.html#gateway"><span class="std std-ref">gateway specification</span></a>, all IEC104 slave device
event types have prefix:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">iec104_slave</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/&lt;</span><span class="n">source</span><span class="o">&gt;/...</span>
</pre></div>
</div>
<p>IEC104 slave device provides implementation of IEC104 slave which accepts
multiple parallel remote master connections. If configured, allowed master
connections can be filtered based on remote master IP address. Change
of active master connections list is trigger for registration
of new gateway ‘connection’ event containing current list’s state.</p>
<p>IEC104 slave device is configured with list of available data. Once device
is enabled, device will query last system ‘data’ events corresponding to
configured data. This local cache is continuously updated with latest data
states based on received system ‘data’ events. All remote masters are
notified with IEC104 data messages each time locally cached data state is
changed. When slave receives IEC104 interrogation or counter interrogation
message, it will immediately respond with IEC104 interrogation/data messages
based on current state of local data cache. Interrogation deactivation
is not supported (slave responds with negative confirmation).</p>
<p>In addition to local cache of last data states, IEC104 slave device can be
configured with arbitrary number of circular data buffers, each configured
with limited size. Each data can be associated with single buffer. When
system ‘data’ event, associated with configured data, is received, together
with local cache update, data change is appended to the end of configured
data buffer. Once buffer is full, new changes will overwrite oldest changes.
Data change is removed from buffer when at least one remote master
acknowledges delivery of IEC104 data message associated with data change
(delivery confirmation is based on IEC104 APCI sequence numbers).
When remote master connect to slave and new connection is established,
slave will immediately send IEC104 data messages for each buffered data
change. Slave’s initial query of system ‘data’ events is not buffered.</p>
<p>In addition to sending IEC104 data messages and processing IEC104 interrogation
and counter interrogation requests, slave supports IEC104 command messages.
Command messages are transparently bidirectionally mapped to ‘command’ events.
Each time slave receives IEC104 command request, it will register new
gateway ‘command’ event which contains unique identification of master
connection which sent command request. When new system ‘command’ event is
received, it must contain identification of master connection which will
be used for sending associated IEC104 command response.</p>
<section id="id1">
<h3>Gateway events<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>Events registered by gateway have event type starting with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">iec104_slave</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/</span><span class="n">gateway</span><span class="o">/...</span>
</pre></div>
</div>
<p>Available gateway events are:</p>
<blockquote>
<div><ul>
<li><p>…/connections</p>
<blockquote>
<div><p>Represents change in list of all active connections. When device
is disabled, empty list of connections is assumed (when device is
disabled, new <cite>connections</cite> event should be registered but user
should not depend on this behaviour).</p>
<p>Source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/slave/gateway/connections</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/command/&lt;command_type&gt;/&lt;asdu_address&gt;/&lt;io_address&gt;</p>
<blockquote>
<div><p>Represents received IEC104 command message.</p>
<p>Source timestamp is dependent on existence of IEC104 time.
If IEC104 time is not available, source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/slave/gateway/command</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="id2">
<h3>System events<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>Events registered by other Hat components, which are consumed by gateway, have
event type starting with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gateway</span><span class="o">/</span><span class="n">iec104_slave</span><span class="o">/&lt;</span><span class="n">device_name</span><span class="o">&gt;/</span><span class="n">system</span><span class="o">/...</span>
</pre></div>
</div>
<p>Available system events are:</p>
<blockquote>
<div><ul>
<li><p>…/data/&lt;data_type&gt;/&lt;asdu_address&gt;/&lt;io_address&gt;</p>
<blockquote>
<div><p>Represents data change.</p>
<p>Source timestamp is dependent on existence of IEC104 time.
If IEC104 time is not available, source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/slave/system/data</span></code>.</p>
</div></blockquote>
</li>
<li><p>…/command/&lt;command_type&gt;/&lt;asdu_address&gt;/&lt;io_address&gt;</p>
<blockquote>
<div><p>Represents command response.</p>
<p>Source timestamp is dependent on existence of IEC104 time.
If IEC104 time is not available, source timestamp is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Payload is specified by
<code class="docutils literal notranslate"><span class="pre">hat-gateway://iec104.yaml#/$defs/events/slave/system/command</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="configurations-and-event-payloads">
<h2>Configurations and event payloads<a class="headerlink" href="#configurations-and-event-payloads" title="Link to this heading">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">$schema</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://json-schema.org/draft/2020-12/schema&quot;</span>
<span class="nt">$id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec104.yaml&quot;</span>
<span class="nt">$defs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">master</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">name</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote_addresses</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">response_timeout</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">supervisory_timeout</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_timeout</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">send_window_size</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">receive_window_size</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reconnect_delay</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">time_sync_delay</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security</span>
<span class="w">        </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">            </span><span class="nt">remote_addresses</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">array</span>
<span class="w">                </span><span class="nt">items</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                    </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">host</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">port</span>
<span class="w">                    </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">host</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">                        </span><span class="nt">port</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">            </span><span class="nt">response_timeout</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">            </span><span class="nt">supervisory_timeout</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">            </span><span class="nt">test_timeout</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">            </span><span class="nt">send_window_size</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">            </span><span class="nt">receive_window_size</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">            </span><span class="nt">reconnect_delay</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">            </span><span class="nt">time_sync_delay</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">            </span><span class="nt">security</span><span class="p">:</span>
<span class="w">                </span><span class="nt">oneOf</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;null&quot;</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec104.yaml#/$defs/security&quot;</span>
<span class="w">    </span><span class="nt">slave</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">local_host</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">local_port</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote_hosts</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">max_connections</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">response_timeout</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">supervisory_timeout</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_timeout</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">send_window_size</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">receive_window_size</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">buffers</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data</span>
<span class="w">        </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">            </span><span class="nt">local_host</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">            </span><span class="nt">local_port</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">            </span><span class="nt">remote_hosts</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">array</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span>
<span class="w">                </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                    </span><span class="no">if null, all remote hosts are allowed</span>
<span class="w">                </span><span class="nt">items</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">            </span><span class="nt">max_connections</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">            </span><span class="nt">response_timeout</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">            </span><span class="nt">supervisory_timeout</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">            </span><span class="nt">test_timeout</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
<span class="w">            </span><span class="nt">send_window_size</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">            </span><span class="nt">receive_window_size</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">            </span><span class="nt">security</span><span class="p">:</span>
<span class="w">                </span><span class="nt">oneOf</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;null&quot;</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec104.yaml#/$defs/security&quot;</span>
<span class="w">            </span><span class="nt">buffers</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">array</span>
<span class="w">                </span><span class="nt">items</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                    </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">name</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">size</span>
<span class="w">                    </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">name</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">                        </span><span class="nt">size</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">            </span><span class="nt">data</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">array</span>
<span class="w">                </span><span class="nt">items</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                    </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_type</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">asdu_address</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">io_address</span>
<span class="w">                        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">buffer</span>
<span class="w">                    </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">data_type</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">enum</span><span class="p">:</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SINGLE</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DOUBLE</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">STEP_POSITION</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BITSTRING</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NORMALIZED</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SCALED</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FLOATING</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BINARY_COUNTER</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PROTECTION</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PROTECTION_START</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PROTECTION_COMMAND</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">STATUS</span>
<span class="w">                        </span><span class="nt">asdu_address</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                        </span><span class="nt">io_address</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                        </span><span class="nt">buffer</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">type</span><span class="p">:</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span>
<span class="w">                                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">events</span><span class="p">:</span>
<span class="w">        </span><span class="nt">master</span><span class="p">:</span>
<span class="w">            </span><span class="nt">gateway</span><span class="p">:</span>
<span class="w">                </span><span class="nt">status</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/master/gateway/status&quot;</span>
<span class="w">                </span><span class="nt">data</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/master/gateway/data&quot;</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/master/gateway/command&quot;</span>
<span class="w">                </span><span class="nt">interrogation</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/master/gateway/interrogation&quot;</span>
<span class="w">                </span><span class="nt">counter_interrogation</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/master/gateway/counter_interrogation&quot;</span>
<span class="w">            </span><span class="nt">system</span><span class="p">:</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/master/system/command&quot;</span>
<span class="w">                </span><span class="nt">interrogation</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/master/system/interrogation&quot;</span>
<span class="w">                </span><span class="nt">counter_interrogation</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/master/system/counter_interrogation&quot;</span>
<span class="w">        </span><span class="nt">slave</span><span class="p">:</span>
<span class="w">            </span><span class="nt">gateway</span><span class="p">:</span>
<span class="w">                </span><span class="nt">connections</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec104.yaml#/$defs/messages/connections&quot;</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/slave/gateway/command&quot;</span>
<span class="w">            </span><span class="nt">system</span><span class="p">:</span>
<span class="w">                </span><span class="nt">data</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/slave/system/data&quot;</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">$ref</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hat-gateway://iec101.yaml#/$defs/events/slave/system/command&quot;</span>
<span class="w">    </span><span class="nt">messages</span><span class="p">:</span>
<span class="w">        </span><span class="nt">connections</span><span class="p">:</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">array</span>
<span class="w">            </span><span class="nt">items</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">connection_id</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">local</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remote</span>
<span class="w">                </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                    </span><span class="nt">connection_id</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                    </span><span class="nt">local</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                        </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">host</span>
<span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">port</span>
<span class="w">                        </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">host</span><span class="p">:</span>
<span class="w">                                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">                            </span><span class="nt">port</span><span class="p">:</span>
<span class="w">                                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">                    </span><span class="nt">remote</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">                        </span><span class="nt">required</span><span class="p">:</span>
<span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">host</span>
<span class="w">                            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">port</span>
<span class="w">                        </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">                            </span><span class="nt">host</span><span class="p">:</span>
<span class="w">                                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">                            </span><span class="nt">port</span><span class="p">:</span>
<span class="w">                                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span>
<span class="w">    </span><span class="nt">security</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cert_path</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">key_path</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">verify_cert</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ca_path</span>
<span class="w">        </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">            </span><span class="nt">cert_path</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">            </span><span class="nt">key_path</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">            </span><span class="nt">verify_cert</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean</span>
<span class="w">            </span><span class="nt">ca_path</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">            </span><span class="nt">strict_mode</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean</span>
<span class="w">            </span><span class="nt">renegotiate_delay</span><span class="p">:</span>
<span class="w">                </span><span class="nt">type</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span>
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="iec61850.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">IEC61850 devices</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="iec103.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">IEC 60870-5-103 devices</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020-2025, Hat Open AUTHORS
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">IEC 60870-5-104 devices</a><ul>
<li><a class="reference internal" href="#master-device">Master device</a><ul>
<li><a class="reference internal" href="#gateway-events">Gateway events</a></li>
<li><a class="reference internal" href="#system-events">System events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#slave-device">Slave device</a><ul>
<li><a class="reference internal" href="#id1">Gateway events</a></li>
<li><a class="reference internal" href="#id2">System events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configurations-and-event-payloads">Configurations and event payloads</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>